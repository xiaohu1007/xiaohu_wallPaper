import{d as o,o as l,c as a,w as s,a as e,r as t,e as n,F as i,g as c,t as d,p as u,i as r,b as p,q as m,v as f,u as y,x as _,n as g,y as v,f as k,l as b,z as h}from"./index-COjtnlOH.js";import{_ as S}from"./uni-icons.BvNFHN_v.js";import{r as x,o as j,g as w,h as z,i as K,j as L,k as I,l as B,m as $}from"./apis.Crr-4SeC.js";import{_ as C}from"./_plugin-vue_export-helper.BCo6x5W8.js";import{_ as F}from"./uni-load-more.CVV1wuqV.js";import{u as H}from"./useMpSystem.7mEcRKW5.js";const M=C({__name:"user-option-item",props:{option:{type:Object,default:()=>({id:1,name:"",icon:"",callback:()=>{},num:0,leftSlot:!1,rightSlot:!1})}},setup(p){const m=p;return(p,f)=>{const y=x(o("uni-icons"),S),_=r;return l(),a(_,{class:"row",onClick:m.option.callback},{default:s((()=>[e(_,{class:"left"},{default:s((()=>[m.option.leftSlot?t(p.$slots,m.option.leftSlot,{key:0},void 0,!0):(l(),n(i,{key:1},[e(y,{type:m.option.icon,size:"20"},null,8,["type"]),e(_,{class:"text"},{default:s((()=>[c(d(m.option.name),1)])),_:1})],64))])),_:3}),e(_,{class:"right"},{default:s((()=>[m.option.rightSlot?t(p.$slots,m.option.rightSlot,{key:0},void 0,!0):(l(),n(i,{key:1},[m.option.num?(l(),a(_,{key:0,class:"text"},{default:s((()=>[c(d(m.option.num),1)])),_:1})):u("",!0),e(y,{type:"right",size:"15",color:"#aaa"})],64))])),_:3})])),_:3},8,["onClick"])}}},[["__scopeId","data-v-1c90dbd6"]]),U=C({__name:"user",setup(t){const{navBarHeight:u}=H(),C=(o,l)=>({...o,num:l});let U={id:3,name:"联系客服",icon:"chatboxes-filled",callback:()=>{},numKey:"",leftSlot:"concat"};const q=p(null);U.name="拨打电话",U.callback=()=>{_({phoneNumber:"114"})};const N=p([{id:1,name:"我的下载",icon:"download-filled",callback:()=>{g({url:"/pages/classList/classList?name=我的下载&type=download"})},numKey:"downloadSize"},{id:2,name:"我的评分",icon:"download-filled",callback:()=>{g({url:"/pages/classList/classList?name=我的评分&type=score"})},numKey:"scoreSize"},U,{id:4,name:"订阅更新",icon:"notification-filled",callback:()=>{},numKey:""},{id:5,name:"常见问题",icon:"flag-filled",callback:()=>{g({url:"/pages/notice/detail?id=6536358ce0ec19c8d67fbe82"})},numKey:""}]);return j((o=>{console.log("onload")})),w((()=>{console.log("onReady")})),z((()=>{console.log("onShow")})),m((()=>{console.log("onUnmounted")})),K((()=>{console.log("onUnload")})),f((()=>{(async()=>{const o=await $();q.value=o.data})(),console.log("onMounted")})),L((()=>{console.log("onHide")})),I((o=>{console.log(o,"scroll")})),B((o=>{console.log(o,"reachBottom")})),(t,p)=>{const m=r,f=b,_=x(o("uni-icons"),S),g=h,j=x(o("user-option-item"),M),w=x(o("uni-load-more"),F);return y(q)?(l(),a(m,{key:0,class:"userLayout pageBg"},{default:s((()=>[e(m,{style:v(`height: ${y(u)}px;`)},null,8,["style"]),e(m,{class:"userInfo"},{default:s((()=>[e(m,{class:"avatar"},{default:s((()=>[e(f,{src:"",mode:"aspectFill"})])),_:1}),e(m,{class:"ip"},{default:s((()=>{var o;return[c(d(null==(o=y(q))?void 0:o.IP),1)]})),_:1}),e(m,{class:"address"},{default:s((()=>{var o,l,a,s,e,t;return[c(" 来自于："+d((null==(l=null==(o=y(q))?void 0:o.address)?void 0:l.city)||(null==(s=null==(a=y(q))?void 0:a.address)?void 0:s.province)||(null==(t=null==(e=y(q))?void 0:e.address)?void 0:t.country)),1)]})),_:1})])),_:1}),e(m,{class:"section"},{default:s((()=>[e(m,{class:"list"},{default:s((()=>[(l(!0),n(i,null,k(y(N).slice(0,3),(o=>{var t;return l(),a(j,{key:o.id,option:C(o,(null==(t=y(q))?void 0:t[o.numKey])||0)},{concat:s((()=>[e(m,{class:"btn-bar"},{default:s((()=>[e(_,{type:o.icon,size:"20"},null,8,["type"]),e(g,{"open-type":"contact",class:"text text-btn"},{default:s((()=>[c(d(o.name),1)])),_:2},1024)])),_:2},1024)])),_:2},1032,["option"])})),128))])),_:1})])),_:1}),e(m,{class:"section"},{default:s((()=>[e(m,{class:"list"},{default:s((()=>[(l(!0),n(i,null,k(y(N).slice(3),(o=>(l(),a(j,{key:o.id,option:o},null,8,["option"])))),128))])),_:1})])),_:1})])),_:1})):(l(),a(w,{key:1,status:"loading"}))}}},[["__scopeId","data-v-792ea334"]]);export{U as default};
